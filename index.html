<!DOCTYPE html>
<html>

<head>
    <title>System Design Animations</title>
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
        integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA=="
        crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css">
</head>

<body class="bg-black text-white font-sans">
    <header class="bg-red-500 py-4 px-8">
        <div class="container mx-auto flex items-center justify-between">
            <h1 class="font-semibold text-2xl tracking-tight">System Design Animations</h1>
        </div>
    </header>
    <main class="py-8 mx-10 text-gray-800">
        <div class="container mx-auto flex flex-wrap">
            <div class="w-full md:w-1/2 lg:w-1/3 px-4 py-6">
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4 ">What is Consistent Hashing?</h2>
                    <p class="text-gray-500 mb-4 justify-between">Consistent hashing is a way of organizing keys within
                        a hash table so that when the keys or nodes in the table change, the keys are reassigned to
                        different nodes with minimal effort. This is beneficial in distributed systems where keys or
                        nodes may frequently change, as it helps to evenly distribute the keys and minimizes the need to
                        recalculate hashes when changes are made.</p>
                    <div class=" rounded-lg col-span-3 bg-gray-100 pl-10 pt-6 pb-6">
                        <h2 class="text-2xl font-semibold text-gray-800 mb-4">Try it out:</h2>

                        <label class="block font-bold text-gray-700 text-sm mb-2" for="value-input">
                            value:
                        </label>
                        <input type="text" id="value-input" class="shadow appearance-none border rounded py-2 px-3 text-gray-700 
                             leading-tight focus:outline-none focus:shadow-outline rounded-full" id="name"
                            placeholder="Enter value">

                        <button id="value-button"
                            class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full h-10 w-30">
                            Hash value
                        </button>

                        <br />
                        <br />

                        <label class="block font-bold text-gray-700 text-sm mb-2" for="position-input">
                            Node Position (i.e. index + 1):
                        </label>
                        <input id="position-input" type="number" min="1" class="shadow appearance-none border rounded py-2 px-3 text-gray-700 
                      leading-tight focus:outline-none focus:shadow-outline rounded-full" id="name" type="text"
                            placeholder="Enter position">

                        <button id="add-node-button"
                            class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full h-10 w-30">
                            Add Node
                        </button>
                        <br />
                    </div>
                    <br />

                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">How it works</h2>

                    <p class="text-gray-500 mb-4 justify-between">Consistent hashing utilizes a hash function to assign
                        keys to integers, and these integers are subsequently mapped to nodes in the hash table through
                        the use of a circular data structure. When a new node is added to the table, only a small
                        portion of keys need to be reassigned to the new node, rather than every key in the table.
                        Conversely, when a node is removed from the table, only the keys originally mapped to that
                        node need to be remapped to a different node.</p>
                </div>

            </div>
            <div class="w-full md:w-1/2 lg:w-1/3 px-4 py-6">
                <div class="bg-white rounded-lg shadow-lg p-6 mb-10">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Visually</h2>

                    <canvas id="canvas" width="450" height="400"></canvas>
                </div>
                <div class="bg-white rounded-lg shadow-lg p-6 text-gray-500 mb-4 justify-between">
                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Example case</h2>

                    <p class="text-gray-500 mb-4 justify-between">
                        Try entering the following values and nodes to see how consistent hashing works:

                    </p>
                    <h3 class="text-l font-semibold text-gray-800 mb-4">
                        Step 1: On Enter value input box - enter each value separately and click 
                        <span class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-full h-10 w-30" >"Hash value"</span>  button:
                    </h3>
                    <p class="text-m pb-4">
                    <span
                        class="bg-gray-800 text-white w-full h-full overflow-y-scroll border-2 border-gray-600 font-mono">
                        "a", "b", "c", "j", "k", "l", "v", "w", "x", "y", "z"
                    </span>

                    </p>
                    <h3 class="text-l font-semibold text-gray-800 mb-4">
                        Step 2: On Enter Node Position input box - enter the number "6" and click 
                        <span class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded-full h-10 w-30" >"Add Node"</span>
                        button:
                    </h3>
                    <p class="text-m">
                        As you can see, only the values at node position <strong> "6"</strong> (or index "5" in the
                        diagram)
                        of the hash table are reassigned to the new node.
                        the other values remain in their original positions.

                    </p>
                    <br>
                    <p class="text-m">
                        <strong>i.e. 
                            <span
                            class="bg-gray-800 text-white w-full h-full overflow-y-scroll border-2 border-gray-600 font-mono">
                             "v", "w", "x", "y", "z"
                        </span>
                            <br>

                        </strong> are rehashed. After rehashing, some values might
                        remain in the same
                        node while others will be moved to the new node.

                        The other nodes will not be affected by this rehashing process. Hence, Consistent Hashing.
                    </p>
                </div>
            </div>
            <div class="w-full md:w-1/2 lg:w-1/3 px-4 py-6">

                <div class="bg-white rounded-lg shadow-lg p-6">

                    <h2 class="text-2xl font-semibold text-gray-800 mb-4">Hash Table</h2>

                    <div class="col-span-3 bg-gray-100">
                        <table class="table-auto w-full text-gray-800 border-black border-solid border-2">
                            <thead>
                                <tr class="text-left font-bold">
                                    <th class="px-4 py-2">Value</th>
                                    <th class="px-4 py-2">Hash</th>
                                </tr>
                            </thead>
                            <tbody id="table-body">
                            </tbody>
                        </table>
                        <p class="text-m mx-5 text-gray-400">
                            The table above shows the key value mappings of the hash table and how they are affected by
                            the addition of a new node.
                            Only the values at the affected range will be rehashed but not the rest of the values in the other nodes.
                        </p>
                    </div>
                </div>
            </div>
            <script src="animation.js"></script>
    </main>
    <footer class="bg-red-500 py-2 px-8 fixed bottom-0 w-full">
        <div class="container mx-auto flex items-center justify-between">
            <p class="text-white-500 text-sm font-semibold tracking-tight">Mike A.</p>
            <nav>
                <a href="https://www.linkedin.com/in/michaelworku/"
                    class="px-2 py-1 rounded-full text-white-500 hover:bg-red-600 hover:text-white">Linkedin</a>
                <a href="https://twitter.com/miko_ashu"
                    class="px-2 py-1 rounded-full text-white-500 hover:bg-red-600 hover:text-white">Twitter</a>
                <a href="https://github.com/MikoAshu"
                    class="px-2 py-1 rounded-full text-white-500 hover:bg-red-600 hover:text-white">Github</a>
            </nav>
        </div>
    </footer>
</body>

</html>